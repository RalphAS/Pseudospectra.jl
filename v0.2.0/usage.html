<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage · Pseudospectra.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Pseudospectra.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Pseudospectra.jl</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li class="is-active"><a class="tocitem" href="usage.html">Usage</a><ul class="internal"><li><a class="tocitem" href="#Requirements"><span>Requirements</span></a></li><li><a class="tocitem" href="#Use-without-the-integrated-plotters"><span>Use without the integrated plotters</span></a></li><li><a class="tocitem" href="#Use-with-extended-precision"><span>Use with extended precision</span></a></li><li><a class="tocitem" href="#Parallelism"><span>Parallelism</span></a></li><li><a class="tocitem" href="#Large-matrices"><span>Large matrices</span></a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="lib/public.html">Public</a></li><li><a class="tocitem" href="lib/internals.html">Internals</a></li><li><a class="tocitem" href="lib/demos.html">Example matrix generators</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="usage.html">Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="usage.html">Usage</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/RalphAS/Pseudospectra.jl/blob/master/docs/src/usage.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h1><p>To use the plotting capabilities, one should first explicitly import either <code>Plots</code> or <code>PyPlot</code>. (An interface to <code>Makie</code> is in progress.)</p><p>A simple interface for modestly-sized matrices is available through the <a href="lib/public.html#Pseudospectra.spectralportrait"><code>spectralportrait</code></a> function.</p><p>Typical &quot;advanced&quot; use of the package is as follows:</p><pre><code class="language-julia">using Pseudospectra
using Plots
A = your_matrix_generating_function()
ps_data = new_matrix(A)
driver!(ps_data)
options = Dict{Symbol,Any}()
# modify `options` to concentrate on a region of interest, increase resolution, etc.
driver!(ps_data,options)</code></pre><p>This should show contour plots of <span>$\log_{10}(\epsilon)$</span> in the vicinity of the spectrum - the standard display of a spectral portrait. Eigenvalues of <code>A</code> are displayed as black points, if they are available.</p><p>The <a href="lib/public.html#Pseudospectra.new_matrix"><code>new_matrix</code></a> function constructs a stateful object with information about <code>A</code> conducive to pseudospectral analysis; <a href="lib/public.html#Pseudospectra.driver!"><code>driver!</code></a> then manages the appropriate computations and plotting.</p><h2 id="Requirements"><a class="docs-heading-anchor" href="#Requirements">Requirements</a><a id="Requirements-1"></a><a class="docs-heading-anchor-permalink" href="#Requirements" title="Permalink"></a></h2><p>The integrated plotting capabilities require that the <code>Plots</code> and/or <code>PyPlot</code> packages be installed. These are not formal package requirements because much of the <code>Pseudospectra</code> package is useful without plotting.</p><h2 id="Use-without-the-integrated-plotters"><a class="docs-heading-anchor" href="#Use-without-the-integrated-plotters">Use without the integrated plotters</a><a id="Use-without-the-integrated-plotters-1"></a><a class="docs-heading-anchor-permalink" href="#Use-without-the-integrated-plotters" title="Permalink"></a></h2><p>One can use the <a href="lib/public.html#Pseudospectra.psa_compute"><code>psa_compute</code></a> function to &quot;simply&quot; evaluate resolvent norms on a grid, as follows:</p><pre><code class="language-julia">using LinearAlgebra, Pseudospectra
# matrix must be complex to get a true Schur decomposition
A = your_matrix_generator() .+ 0im
Tschur, U, eigA = schur(A)
ax = [-3,3,-3,3] # domain of results
npts = 100  # mesh size
opts = Dict{Symbox,Any}()
Z, x, y, levels = psa_compute(Tschur, npts, ax, eigA, opts)</code></pre><h2 id="Use-with-extended-precision"><a class="docs-heading-anchor" href="#Use-with-extended-precision">Use with extended precision</a><a id="Use-with-extended-precision-1"></a><a class="docs-heading-anchor-permalink" href="#Use-with-extended-precision" title="Permalink"></a></h2><p>The dense-matrix methods work with matrix element types of extended precision such as <code>Float128</code> (from the <code>Quadmath</code> package) and <code>BigFloat</code>; they do require linear algebra methods which are implemented in the <code>GenericLinearAlgebra</code> and <code>GenericSchur</code> packages.</p><pre><code class="language-julia">using Pseudospectra, Plots, GenericLinearAlgebra, GenericSchur, Quadmath
Aq = Float128.(A_matrix)
spectralportrait(A)</code></pre><p>Note that linear algebra with non-BLAS types is expensive, so computation takes many minutes even for moderate-sized matrices.</p><h2 id="Parallelism"><a class="docs-heading-anchor" href="#Parallelism">Parallelism</a><a id="Parallelism-1"></a><a class="docs-heading-anchor-permalink" href="#Parallelism" title="Permalink"></a></h2><p>The computation of spectral portraits lends itself to parallel processing. Multiprocessing is implemented here for some algorithm variants.</p><p>The core dense-matrix algorithms can be set to distribute the <code>Z</code>-grid over Julia threads with the <code>threaded</code> entry in <code>options</code>.  This is especially useful for extended precision, and for working on fine grids with BLAS types. (One may need to adjust thread usage in the BLAS to balance if the library is aggressive).</p><p>Unfortunately <code>BigFloat</code> operations currently make heavy use of the heap, invoking the thread-unfriendly garbage collector, so for extended precision <code>Float128</code> may be more practical.</p><h2 id="Large-matrices"><a class="docs-heading-anchor" href="#Large-matrices">Large matrices</a><a id="Large-matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Large-matrices" title="Permalink"></a></h2><p>Currently, the methods for handling large matrices are those ported from Eigtool. They can be invoked via options to the user-facing computational functions.</p><h3 id="Direct-sparse"><a class="docs-heading-anchor" href="#Direct-sparse">Direct-sparse</a><a id="Direct-sparse-1"></a><a class="docs-heading-anchor-permalink" href="#Direct-sparse" title="Permalink"></a></h3><p>This is a Lanczos scheme which does a sparse LU decomposition for each point in the <code>Z</code> grid.</p><h3 id="Regional-subspace-projection"><a class="docs-heading-anchor" href="#Regional-subspace-projection">Regional subspace projection</a><a id="Regional-subspace-projection-1"></a><a class="docs-heading-anchor-permalink" href="#Regional-subspace-projection" title="Permalink"></a></h3><p>This uses one Schur factorization of the matrix and is not always reliable. [More documentation needed]</p><h3 id="Arnoldi-projection"><a class="docs-heading-anchor" href="#Arnoldi-projection">Arnoldi projection</a><a id="Arnoldi-projection-1"></a><a class="docs-heading-anchor-permalink" href="#Arnoldi-projection" title="Permalink"></a></h3><p>This uses a specialized wrapper of the ARPACK library, and may also be used for linear maps not explicitly represented as matrices. [More documentation needed]</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Home</a><a class="docs-footer-nextpage" href="lib/public.html">Public »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 5 December 2022 01:10">Monday 5 December 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
